-- CRIAÇÃO DAS TABELAS
  CREATE TABLE `bd_exercicio`.`tb_funcionarios`(
`func_coodigo` INT NOT NULL PRIMARY KEY.],
`func_nome` VARCHAR (60) NULL,
`func_cpf`  VARCHAR (13) NULL,
`forn_end`  VARCHAR (90) NULL,
`forn_salario` NUMERIC
`ger_depto_cod` INT,
`trab_depto_cod`INT,
`PROJ_COD` INT
  );
CREATE TABLE `bd_exercicios`.`tb_departamento` (
`depto_codigo` INT NOT NULL PRIMARY KEY,
  `depto_nome` varchar (60) null,
  `local_cod` INT
);
CRETE TABLE `bd_exercicios`.`tb_projeto`(
`proj_codigo` INT NOT NULL PRIMARY KEY,
`proj_numero` INT,
`depto_cod` INT,
`local_cod` INT
);
CRETE TABLE `bd_exercicios`.`tb_local`(
`local_codigo` INT NOT NULL PRIMARY KEY,
`local_desc` VARCHAR (60) NULL
);



-- INDICE E FK FUNCIONARIO/GERENCIA/DEPARTAMENTO
  ALTER TABLE `bd_exercicios_`.`tb_funcionarios`
  ADD INDEX `fk_ger_depto_cod_idx` (`ger_depto_cod` ASC );

ALTER TABLE `bd_exercicios`.`tb_funcionarios`
ADD CONSTRAINT `fk_ger_depto_cod`
FORENGN KEY (`ger_depto_cod`)
REFERENCES `bd_exercicios`.`tb_departamento` (`depto_codigo`);

-- INDICE E FK FUNCIONARIO/TRABALHA_NO/PROJETO
  ALTER TABLE `bd_exercicios`.`tn_funcionarios`
  ADD INDEX `fk_proj_cod_idx` (`proj_cod` asc);

ALTER TABLE `bd_exercicios`.`tb_funcionarios`
ADD CONSTRAINT `fk_proj_cod`
FOREIGN KEY (`proj_cod`)
REFERENCES `bd_exercicios`.`tb_projeto` (`proj_codigo`);

-- INDICE E FK DEPARTAMENTO LOCAL/ATRIBUTO MULTIVALORANDO
  ALTER TABLE `bd_exercicios`.`tn_departamento`
  ADD INDEX `fk_local_depto_cod_idx` (`local_cod` asc);

ALTER TABLE `bd_exercicios`.`tb_departamento`
ADD CONSTRAINT `fk_depto_local_cod`
FOREIGN KEY (`local_cod`)
REFERENCES `bd_exercicios`.`tb_local` (`local_codigo`);

-- INDICE E FK PROJETO LOCAL/ ATRIBUTO MULTIVALORADO
  ALTER TABLE `bd_exercicios`.`tn_projeto`
  ADD INDEX `fk_local_proj_cod_idx` (`local_cod` asc);

ALTER TABLE `bd_exercicios`.`tb_projeto`
ADD CONSTRAINT `fk_proj_local_cod`
FOREIGN KEY (`local_cod`)
REFERENCES `bd_exercicios`.`tb_local` (`local_codigo`);

SELECT func_nome, depto_nome, proj_numero
FROM `bd_exercicio`.`tb_funcionarios`
  INNER JOIN `bd_exercicio`.`tb_departamento` on depto_codigo = trab_depto_cod
INNER JOIN `bd_exercicio`.`tb_projeto` on proj_codigo = proj_cod

CREATE TABLE DEFINER 


























